<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动轮播时间轴</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            background-color: #f9f9f9;
        }
        
        .content-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fff;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .timeline-container {
            padding: 40px 20px;
            background-color: #fff;
            border-top: 1px solid #eee;
            position: relative;
        }
        
        .controls {
            position: absolute;
            top: 10px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .control-btn {
            background: #4a89dc;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .control-btn:hover {
            background: #3a70c2;
        }
        
        .timeline-wrapper {
            position: relative;
            height: 80px;
            margin-top: 20px;
        }
        
        .timeline-scale {
            position: absolute;
            top: 40px;
            left: 0;
            right: 0;
            height: 4px;
            background-color: #e0e0e0;
        }
        
        .timeline-ticks {
            position: absolute;
            top: 40px;
            left: 0;
            right: 0;
            height: 20px;
        }
        
        .tick {
            position: absolute;
            width: 2px;
            height: 10px;
            background-color: #999;
            top: 0;
        }
        
        .tick.major {
            height: 20px;
            background-color: #333;
            width: 3px;
        }
        
        .timeline-labels {
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
        }
        
        .timeline-label {
            position: absolute;
            transform: translateX(-50%);
            font-size: 12px;
            color: #666;
            white-space: nowrap;
        }
        
        .timeline-handle {
            position: absolute;
            top: 20px;
            left: 0;
            width: 40px;
            height: 40px;
            background-color: #4a89dc;
            border-radius: 50%;
            transform: translateX(-50%);
            cursor: grab;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }
        
        .timeline-value {
            position: absolute;
            top: -25px;
            width: 100%;
            text-align: center;
            font-weight: bold;
            color: #4a89dc;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .content-item {
            display: none;
            max-width: 600px;
            padding: 20px;
        }
        
        .content-item.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .year-display {
            font-size: 24px;
            color: #4a89dc;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .progress-bar {
            position: absolute;
            top: 40px;
            left: 0;
            height: 4px;
            background-color: #4a89dc;
            width: 0;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="content-area" id="contentArea">
        <div class="content-item active" id="content1">
            <div class="year-display">2000年</div>
            <h1>互联网泡沫时代</h1>
            <p>2000年，互联网泡沫达到顶峰，科技公司估值飞涨，纳斯达克指数创下历史新高。</p>
            <img src="https://via.placeholder.com/400x200?text=2000年互联网泡沫" alt="2000年" style="max-width:100%; margin-top:20px;">
        </div>
        <div class="content-item" id="content2">
            <div class="year-display">2005年</div>
            <h1>Web 2.0崛起</h1>
            <p>2005年，YouTube成立，社交网络和用户生成内容开始改变互联网格局。</p>
            <img src="https://via.placeholder.com/400x200?text=2005年Web2.0" alt="2005年" style="max-width:100%; margin-top:20px;">
        </div>
        <div class="content-item" id="content3">
            <div class="year-display">2010年</div>
            <h1>移动互联网时代</h1>
            <p>2010年，iPad发布，智能手机普及，移动互联网开始主导数字生活。</p>
            <img src="https://via.placeholder.com/400x200?text=2010年移动互联网" alt="2010年" style="max-width:100%; margin-top:20px;">
        </div>
        <div class="content-item" id="content4">
            <div class="year-display">2015年</div>
            <h1>人工智能兴起</h1>
            <p>2015年，深度学习技术突破，AI开始在图像识别、语音助手等领域崭露头角。</p>
            <img src="https://via.placeholder.com/400x200?text=2015年人工智能" alt="2015年" style="max-width:100%; margin-top:20px;">
        </div>
        <div class="content-item" id="content5">
            <div class="year-display">2020年</div>
            <h1>数字化转型加速</h1>
            <p>2020年，全球疫情促使远程办公、在线教育等数字化应用爆发式增长。</p>
            <img src="https://via.placeholder.com/400x200?text=2020年数字化转型" alt="2020年" style="max-width:100%; margin-top:20px;">
        </div>
    </div>
    
    <div class="timeline-container">
        <div class="controls">
            <button class="control-btn" id="playBtn">▶ 播放</button>
            <button class="control-btn" id="pauseBtn">⏸ 暂停</button>
        </div>
        <div class="timeline-wrapper">
            <div class="progress-bar" id="progressBar"></div>
            <div class="timeline-scale"></div>
            <div class="timeline-ticks" id="timelineTicks"></div>
            <div class="timeline-labels" id="timelineLabels"></div>
            <div class="timeline-handle" id="timelineHandle">
                <div class="timeline-value" id="timelineValue">2000</div>
            </div>
        </div>
    </div>

    <script>
        const years = [2000, 2005, 2010, 2015, 2020];
        const handle = document.getElementById('timelineHandle');
        const timelineValue = document.getElementById('timelineValue');
        const contentItems = document.querySelectorAll('.content-item');
        const timelineTicks = document.getElementById('timelineTicks');
        const timelineLabels = document.getElementById('timelineLabels');
        const progressBar = document.getElementById('progressBar');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        
        let currentIndex = 0;
        let autoPlayInterval;
        let isPlaying = false;
        const autoPlaySpeed = 3000; // 3秒切换一次
        
        // 初始化时间轴刻度和标签
        function initTimeline() {
            const width = document.querySelector('.timeline-wrapper').offsetWidth;
            
            years.forEach((year, index) => {
                // 添加刻度
                const tick = document.createElement('div');
                tick.className = index % 2 === 0 ? 'tick major' : 'tick';
                tick.style.left = `${(index / (years.length - 1)) * 100}%`;
                timelineTicks.appendChild(tick);
                
                // 添加标签
                const label = document.createElement('div');
                label.className = 'timeline-label';
                label.textContent = year;
                label.style.left = `${(index / (years.length - 1)) * 100}%`;
                timelineLabels.appendChild(label);
            });
            
            // 设置初始位置
            updateTimeline(0);
        }
        
        // 更新时间轴位置和内容
        function updateTimeline(index) {
            currentIndex = index;
            const width = document.querySelector('.timeline-wrapper').offsetWidth;
            const position = (index / (years.length - 1)) * width;
            
            handle.style.left = `${position}px`;
            timelineValue.textContent = years[index];
            progressBar.style.width = `${position}px`;
            
            // 更新内容
            contentItems.forEach(item => {
                item.classList.remove('active');
            });
            document.getElementById(`content${index + 1}`).classList.add('active');
        }
        
        // 自动播放功能
        function startAutoPlay() {
            if (isPlaying) return;
            
            isPlaying = true;
            autoPlayInterval = setInterval(() => {
                let nextIndex = currentIndex + 1;
                if (nextIndex >= years.length) {
                    nextIndex = 0;
                }
                updateTimeline(nextIndex);
            }, autoPlaySpeed);
        }
        
        function stopAutoPlay() {
            isPlaying = false;
            clearInterval(autoPlayInterval);
        }
        
        // 拖拽功能
        let isDragging = false;
        
        handle.addEventListener('mousedown', () => {
            isDragging = true;
            handle.style.cursor = 'grabbing';
            stopAutoPlay(); // 手动交互时暂停自动播放
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const timelineWrapper = document.querySelector('.timeline-wrapper');
            const rect = timelineWrapper.getBoundingClientRect();
            let position = e.clientX - rect.left;
            
            // 限制在时间轴范围内
            position = Math.max(0, Math.min(position, rect.width));
            
            // 计算最近的年份点
            const percent = position / rect.width;
            const index = Math.round(percent * (years.length - 1));
            
            updateTimeline(index);
        });
        
        document.addEventListener('mouseup', () => {
            isDragging = false;
            handle.style.cursor = 'grab';
        });
        
        // 点击时间轴跳转
        document.querySelector('.timeline-wrapper').addEventListener('click', (e) => {
            const timelineWrapper = document.querySelector('.timeline-wrapper');
            const rect = timelineWrapper.getBoundingClientRect();
            const position = e.clientX - rect.left;
            const percent = position / rect.width;
            const index = Math.round(percent * (years.length - 1));
            
            updateTimeline(index);
            stopAutoPlay(); // 手动交互时暂停自动播放
        });
        
        // 控制按钮事件
        playBtn.addEventListener('click', startAutoPlay);
        pauseBtn.addEventListener('click', stopAutoPlay);
        
        // 初始化
        initTimeline();
        startAutoPlay(); // 默认自动播放
    </script>
</body>
</html>